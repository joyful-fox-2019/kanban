{"remainingRequest":"/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/src/views/Home.vue","mtime":1573705963000},{"path":"/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/angelavanessa/development/hacktiv8/phase2/week3/kanban/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZiYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdmJhci52dWUnCmltcG9ydCBDYXRlZ29yeSBmcm9tICdAL2NvbXBvbmVudHMvQ2F0ZWdvcnkudnVlJwppbXBvcnQgVGFza0RldGFpbCBmcm9tICdAL2NvbXBvbmVudHMvVGFza0RldGFpbC52dWUnCmltcG9ydCBkYiBmcm9tICdAL2NvbmZpZy9maXJlYmFzZS5qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaG9tZScsCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBjYXRlZ29yaWVzOiBbXSwKICAgICAgdGFza3M6IFtdLAogICAgICB0YXNrSW5Nb2RhbDogbnVsbCwKICAgICAgdXBkYXRlT3B0aW9uczogW10KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENhdGVnb3J5LAogICAgTmF2YmFyLAogICAgVGFza0RldGFpbAogIH0sCiAgbWV0aG9kczogewogICAgdGFza0RldGFpbCAodGFzaykgeyAgCiAgICAgIHRoaXMudGFza0luTW9kYWwgPSB0YXNrCiAgICAgIHRoaXMuZ2V0T3B0aW9ucygpCiAgICB9LAogICAgZ2V0T3B0aW9ucyAoKSB7CiAgICAgIGxldCBzdGF0dXMgPSB0aGlzLnRhc2tJbk1vZGFsLmN1cnJlbnRDYXRlZ29yeS5zdGF0dXMKICAgICAgaWYgKHN0YXR1cyA9PT0gMCkgewogICAgICAgIHRoaXMudXBkYXRlT3B0aW9ucyA9IFsnJywgMV0KICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IHRoaXMudGFza0luTW9kYWwuY2F0ZWdvcmllcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMgPSBbc3RhdHVzLCAnJ10KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnMgPSBbc3RhdHVzIC0gMSwgc3RhdHVzICsgMV0KICAgICAgfQogICAgfSwKICAgIGdldENhdGVnb3JpZXMgKCkgewogICAgICBkYi5jb2xsZWN0aW9uKCdjYXRlZ29yaWVzJykKICAgICAgICAub25TbmFwc2hvdChxdWVyeVNuYXBzaG90ID0+IHsKICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBsZXQgY2F0ZWdvcnkgPSB7CiAgICAgICAgICAgICAgaWQ6IGRvYy5pZCwKICAgICAgICAgICAgICAuLi5kb2MuZGF0YSgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5jYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0VGFza3MgKCkgewogICAgICBkYi5jb2xsZWN0aW9uKCd0YXNrcycpCiAgICAgICAgLm9uU25hcHNob3QocXVlcnlTbmFwc2hvdCA9PiB7CiAgICAgICAgICBsZXQgcmVzdWx0ID0gW10KICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBsZXQgdGFzayA9IHsKICAgICAgICAgICAgICBpZDogZG9jLmlkLAogICAgICAgICAgICAgIC4uLmRvYy5kYXRhKCkKICAgICAgICAgICAgfQogICAgICAgICAgICByZXN1bHQucHVzaCh0YXNrKQogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMudGFza3MgPSByZXN1bHQKICAgICAgICB9KQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldENhdGVnb3JpZXMoKQogICAgdGhpcy5nZXRUYXNrcygpCiAgfSwKICBjb21wdXRlZDogewogICAgb3JkZXJlZENhdGVnb3JpZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcmllcy5zb3J0KChhLCBiKSA9PiBhLnN0YXR1cyAtIGIuc3RhdHVzKQogICAgfQogIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <Navbar />\n    <div class=\"row\">\n      <div class=\"col\" v-for=\"category in orderedCategories\" :key=category.id>\n        <Category :obj=category :categories=orderedCategories :tasks=tasks @task-detail=taskDetail />\n        <TaskDetail v-if=\"taskInModal\" :taskInModal=taskInModal :updateOptions=updateOptions />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from '@/components/Navbar.vue'\nimport Category from '@/components/Category.vue'\nimport TaskDetail from '@/components/TaskDetail.vue'\nimport db from '@/config/firebase.js'\n\nexport default {\n  name: 'home',\n  data () {\n    return {\n      categories: [],\n      tasks: [],\n      taskInModal: null,\n      updateOptions: []\n    }\n  },\n  components: {\n    Category,\n    Navbar,\n    TaskDetail\n  },\n  methods: {\n    taskDetail (task) {  \n      this.taskInModal = task\n      this.getOptions()\n    },\n    getOptions () {\n      let status = this.taskInModal.currentCategory.status\n      if (status === 0) {\n        this.updateOptions = ['', 1]\n      } else if (status === this.taskInModal.categories.length) {\n        this.updateOptions = [status, '']\n      } else {\n        this.updateOptions = [status - 1, status + 1]\n      }\n    },\n    getCategories () {\n      db.collection('categories')\n        .onSnapshot(querySnapshot => {\n          querySnapshot.forEach(doc => {\n            let category = {\n              id: doc.id,\n              ...doc.data()\n            }\n            this.categories.push(category)\n          })\n        })\n    },\n    getTasks () {\n      db.collection('tasks')\n        .onSnapshot(querySnapshot => {\n          let result = []\n          querySnapshot.forEach(doc => {\n            let task = {\n              id: doc.id,\n              ...doc.data()\n            }\n            result.push(task)\n          })\n          this.tasks = result\n        })\n    }\n  },\n  created () {\n    this.getCategories()\n    this.getTasks()\n  },\n  computed: {\n    orderedCategories: function () {\n      return this.categories.sort((a, b) => a.status - b.status)\n    }\n  }\n}\n</script>\n"]}]}